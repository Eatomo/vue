<template>
  <div class="login-page">
  <div class="login-container">
    <h1>ç™»å…¥</h1>

    <input v-model="username" type="text" placeholder="å¸³è™Ÿ"><br><br>
    <input v-model="password" type="password" placeholder="å¯†ç¢¼"><br><br>

    <button @click="login">ç™»å…¥</button>

    <p>é‚„æ²’æœ‰å¸³è™Ÿå—ï¼Ÿ<button @click="goRegister">å»è¨»å†Š</button></p>

    <hr>

    <h2>æˆ–ä½¿ç”¨ç¤¾ç¾¤å¸³è™Ÿå¿«é€Ÿç™»å…¥</h2>

    <button class="facebook-button" @click="socialLogin('Facebook')">ğŸ”µ ä½¿ç”¨ Facebook ç™»å…¥</button><br><br>
    <button class="google-button" @click="socialLogin('Google')">ğŸ”´ ä½¿ç”¨ Google ç™»å…¥</button>
  </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      username: '',
      password: ''
    }
  },
  methods: {
    login() {
      const savedPassword = localStorage.getItem('user_' + this.username);
      if (this.password === savedPassword) {
        localStorage.setItem('loggedInUser', this.username);
        alert('ç™»å…¥æˆåŠŸï¼');
        this.$router.push('/home');  // è·³è½‰é¦–é 
      } else {
        alert('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤');
      }
    },
    goRegister() {
      this.$router.push('/register');  // è·³è½‰è¨»å†Šé 
    },
    socialLogin(provider) {
      const fakeUser = provider + "_user";
      localStorage.setItem('loggedInUser', fakeUser);
      alert(provider + 'ç™»å…¥æˆåŠŸï¼');
      this.$router.push('/home');  // è·³è½‰é¦–é 
    }
  }
}
</script>

<style scoped>
@import '../assets/css/login.css';
</style>
